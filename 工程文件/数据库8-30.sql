`visit`USE front_management;	
CREATE TABLE employee( 
	NAME VARCHAR(14) NOT NULL COMMENT '员工名字', 
	employee_id VARCHAR(18) NOT NULL COMMENT '员工编号', 
	POSITION VARCHAR(13) NOT NULL COMMENT '员工职位', 
	department VARCHAR(12) COMMENT '员工所在部门', 
	phone VARCHAR(11) NOT NULL COMMENT '员工联系电话', 
	entry_date DATE NOT NULL COMMENT'入职日期',
	sign_in_sum INT DEFAULT '0' COMMENT '当月签到总数', 
	overtime_sum INT DEFAULT '0' COMMENT '每月加班时长', 
	PRIMARY KEY (employee_id) 
); 
USE front_management;	
INSERT INTO employee VALUES('王宇','201552145','人事部总监','人事部','12314563456','2015-5-21','2','0');
INSERT INTO employee VALUES('张倩','201452731','人事部经理','人事部','12568975622','2014-5-27','1','0');
INSERT INTO employee VALUES('陈想','201552645','人事部主管','人事部','16845106227','2015-5-26','2','0');
INSERT INTO employee VALUES('梁向东','201552711','人事专员','人事部','12818574387','2015-5-27','2','2');
INSERT INTO employee VALUES('赖晓生','201767534','会计','财务部','17113541683','2017-6-7','2','0');
INSERT INTO employee VALUES('谢鸿','201412345','出纳','财务部','13087009843','2014-1-23','2','3');
INSERT INTO employee VALUES('张念','201587421','财务总监','财务部','17381977139','2015-8-7','1','4');
INSERT INTO employee VALUES('李雯','201594321','财务部经理','财务部','13355445299','2015-9-4','2','0');
INSERT INTO employee VALUES('罗文玉','201823456','行政经理','行政部','17650412595','2018-2-3','2','3');
INSERT INTO employee VALUES('许智涵','201762453','行政专员','行政部','13623880755','2017-6-24','2','1');
INSERT INTO employee VALUES('王贵','201628789','行政助理','行政部','16845106227','2016-2-8','2','2');
INSERT INTO employee VALUES('饶行','201865432','行政文员','行政部','17918848051','2018-6-1','1','2');
INSERT INTO employee VALUES('容钰','201756342','行政秘书','行政部','17113541683','2017-5-6','1','1');
INSERT INTO employee VALUES('张伟','201789765','行政主管','行政部','13892316211','2017-8-9','2','2');
INSERT INTO employee VALUES('商言','201533456','柜员','业务部','18187283507','2015-5-5','2','1');
INSERT INTO employee VALUES('卓问','201512456','文员','业务部','14160751667','2015-1-2','1','1');
INSERT INTO employee VALUES('张飞','201734567','大堂经理','业务部','10067110963','2017-3-4','2','3');
INSERT INTO employee VALUES('李达','201645325','文员','业务部','18455718963','2016-4-5','2','1');
INSERT INTO employee VALUES('刘倩','201861342','前台',NULL,'16745328967','2018-6-1','1','1');
INSERT INTO employee VALUES('王璐','201805768','前台',NULL,'16378198439','2018-5-7','1','1');

SELECT*FROM clock;

SELECT YEAR(DATE),MONTH(DATE),COUNT(*),COUNT(CASE WHEN clock_in_time LIKE '7:%' THEN employee_id WHEN clock_in_time='8:00:00' THEN employee_id ELSE NULL END) AS SUM
FROM clock
GROUP BY  YEAR(DATE),MONTH(DATE);

SELECT*
FROM clock NATURAL JOIN employee
WHERE (clock_in_time LIKE '7:%' OR clock_in_time='8:00:00') AND YEAR(DATE)=2018 AND MONTH(DATE)=6;

INSERT INTO clock VALUES('201552145','2018-6-2','7:45:01','18:00:56');
INSERT INTO clock VALUES('201552145','2018-6-3','7:45:01','18:00:56');
INSERT INTO clock VALUES('201552145','2018-6-4','7:45:01','18:00:56');
INSERT INTO clock VALUES('201552145','2018-6-5','7:45:01','18:00:56');
INSERT INTO clock VALUES('201552145','2018-6-6','7:45:01','18:00:56');
INSERT INTO clock VALUES('201552145','2018-6-7','7:45:01','18:00:56');
INSERT INTO clock VALUES('201552145','2018-6-8','7:45:01','18:00:56');
INSERT INTO clock VALUES('201552145','2018-6-9','7:45:01','18:00:56');
INSERT INTO clock VALUES('201552145','2018-6-10','7:45:01','18:00:56');
INSERT INTO clock VALUES('201552145','2018-6-11','7:45:01','18:00:56');
INSERT INTO clock VALUES('201552145','2018-6-12','7:45:01','18:00:56');
INSERT INTO clock VALUES('201552145','2018-6-13','7:45:01','18:00:56');
INSERT INTO clock VALUES('201552145','2018-6-14','7:45:01','18:00:56');
INSERT INTO clock VALUES('201552145','2018-6-15','7:45:01','18:00:56');
INSERT INTO clock VALUES('201552145','2018-6-16','7:45:01','18:00:56');
INSERT INTO clock VALUES('201552145','2018-6-17','7:45:01','18:00:56');
INSERT INTO clock VALUES('201552145','2018-6-18','7:45:01','18:00:56');
INSERT INTO clock VALUES('201552145','2018-6-19','7:45:01','18:00:56');
INSERT INTO clock VALUES('201552145','2018-6-20','7:45:01','18:00:56');
INSERT INTO clock VALUES('201552145','2018-6-21','7:45:01','18:00:56');
INSERT INTO clock VALUES('201552145','2018-6-22','7:45:01','18:00:56');
INSERT INTO clock VALUES('201552145','2018-6-23','7:45:01','18:00:56');
INSERT INTO clock VALUES('201552145','2018-6-24','7:45:01','18:00:56');
INSERT INTO clock VALUES('201552145','2018-6-25','7:45:01','18:00:56');
INSERT INTO clock VALUES('201552145','2018-6-26','7:45:01','18:00:56');
INSERT INTO clock VALUES('201552145','2018-6-27','7:45:01','18:00:56');
INSERT INTO clock VALUES('201552145','2018-6-28','7:45:01','18:00:56');
INSERT INTO clock VALUES('201552145','2018-6-29','7:45:01','18:00:56');
INSERT INTO clock VALUES('201552145','2018-6-30','7:45:01','18:00:56');

SELECT employee_id,NAME,department,COUNT(DATE) AS SUM FROM clock NATURAL JOIN employee WHERE (clock_in_time LIKE '7:%' OR clock_in_time='8:00:00') AND YEAR(DATE)=2018 AND MONTH(DATE)=6 GROUP BY employee_id,NAME,department;
COMMIT	
SELECT*FROM employee WHERE NAME="王宇";
SELECT * FROM clock NATURAL JOIN employee;

SELECT employee_id,NAME,department,COUNT(clock_out_time) AS  count_over,(SELECT COUNT(employee_id) FROM clock) AS SUM FROM clock NATURAL JOIN employee WHERE YEAR(DATE)=2020 AND MONTH(DATE)=8  AND clock_out_time >='20:00:00' GROUP BY employee_id,NAME,departmen;
`spackage`

INSERT INTO clock VALUES('201861342','2018-6-1','7:45:01','22:00:56');
INSERT INTO clock VALUES('201861342','2018-6-2','7:45:01','22:00:56');
INSERT INTO clock VALUES('201552145','2018-5-3','7:45:01','23:00:56');
INSERT INTO clock VALUES('201552145','2018-5-4','7:45:01','22:00:56');

INSERT INTO clock VALUES('201552145','2018-5-4','7:45:01','22:00:56');

SELECT*FROM clock ORDER BY EMPLOYEE_ID;